checkout

increment version
create tag

build
test
package

commit
write and push tag

publish package










    - name: Publish nuget package
      run: find . -name *.nupkg -type f -print0 | xargs -0 -I pkg dotnet nuget push pkg -k $nuget_api_key -s "https://api.nuget.org/v3/index.json" --skip-duplicate
      env:
        nuget_api_key: ${{ secrets.NUGET_API_KEY }}
      working-directory: ./NPOI.Extensions/nupkg

dotnet pack UPS.Slack\UPS.Slack.csproj /p:PackageVersion=$newVersion -o BuiltPackages

#ToDo: Automate VSTS to Push packages manally. But use this to push packages manually. Account usead needs to have publish access which can be given in VSTS
#nuget.exe push -Source https://universalplantservices.pkgs.visualstudio.com/_packaging/Common/nuget/v3/index.json -ApiKey VSTS BuiltPackages\*.nupkg
